
<!-- <input type="text" #movieSearchInput  class="form-control" placeholder="Search" /> -->
<!-- <button (click)="search()"> Search</button> -->
<lib-lib-store>libray </lib-lib-store>
<form>
  <div style="display:flex;">
  <div class="form-group form-inline" >
    Search:
    <input class="form-control ml-2" type="text" [formControl]="filter" />
  </div>
  <div style="border: solid;">
     <h2>List of Employees</h2> 
  </div>
</div>
</form>
<!-- <input #searchBox type="text" class="form-control" id="search-box" (keyup)="search(searchBox.value)"> -->
<!-- <input #search type="text" placeholder="Search" /> -->


<table class="table table-striped margin-class" >
  <tr>
    <th> Emp Id </th>
    <th> First name </th>
    <th> Last Name </th>
    <th> Email </th>
    <th> Mobile </th>
    <th> Address </th>
    <th> Active</th>
  </tr>
  <ng-container *ngIf="employees$ | async">
    <tr *ngFor="let d of filteredEmployee$ | async; let i = index">
      <td> {{d.empId}}</td>
      <td> {{d.first_name}}</td>
      <td> {{d.last_name}} </td>
      <td> {{d.emailID}} </td>
      <td> {{d.mobile}} </td>
      <td> {{d.address}}</td>
      <td>{{d.Active}}</td>
    </tr>
</ng-container>
</table>

<h2 style="text-align: center;">List of Projects</h2>
<table class="table table-striped" >
  <tr>
    <th> Project Id </th>
    <th> Project Name </th>
    <th> Description </th>
  </tr>
    <tr *ngFor="let d of listOfProject; let i = index">
      <td> {{d.projectId}}</td>
      <td> {{d.project_name}}</td>
      <td> {{d.description}} </td>
    </tr>
</table>

<h2 style="text-align: center;">Map Projects with Employees</h2>
<table style="width:50%;">
  <tr>
    <th> Project Id </th>
    <th> Project Name</th>
  </tr>
  <ng-container *ngIf="employees$ | async">
  <tr *ngFor="let opt of filteredEmployee$ | async; let i=index;" >
    <td > 
      {{opt.empId}}
    </td> 
    <td> 
      <select name="projects" (change)="selectedProject($event, opt, i)">
        <option *ngFor="let opt of listOfProject" [value]="opt.projectId">{{opt.project_name}}</option>
      </select>
    </td>
  </tr>
</ng-container>
</table>
<br>
<button (click)="saveToStore()"> Save to Store</button> &nbsp;&nbsp;
<button (click)="viewEmployeeStore()"> View Store</button>
<!-- [disabled]="!viewStore" -->
<table class="table table-striped" >
  <!-- *ngIf="viewStore" -->
  <tr>
    <th> Emp Id </th>
    <th> First name </th>
    <th> Last Name </th>
    <th> Email </th>
    <th> Mobile </th>
    <th> Address </th>
    <th> Active</th>
    <th> Projects</th>
  </tr>
  <!-- <ng-container *ngIf="employees$ | async"> -->
    <tr *ngFor="let d of Employeelist$ | async; let i = index">
      <td> {{d.empId}}</td>
      <td> {{d.first_name}}</td>
      <td> {{d.last_name}} </td>
      <td> {{d.emailID}} </td>
      <td> {{d.mobile}} </td>
      <td> {{d.address}}</td>
      <td>{{d.Active}}</td>
      <td> {{d.projectId}}</td>
    </tr>
<!-- </ng-container> -->
</table>
 
<br><br>